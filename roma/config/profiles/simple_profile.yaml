# Simple test profile to validate Hydra configuration

# Target for automatic instantiation to ProfileConfig object
_target_: roma.domain.value_objects.config.profile_config.ProfileConfig

defaults:
  # Import entities (Level 1)
  - /entities/models/providers@models
  - /entities/tools/definitions@tools
  # Import all agent-type configurations (Level 2)
  # These will be available at root level
  - /agents/atomizers
  - /agents/planners
  - /agents/executors
  - /agents/aggregators
  - /agents/plan_modifiers
  - _self_

# Profile metadata
name: "SimpleProfile"
description: "Simple test profile"
version: "2.0.0"

# Agent mapping - reference imported agents that are loaded from /agents/* imports
# The agents are available directly after import, we just organize them by task type
agent_mapping:
  atomizers:
    RETRIEVE: ${profiles.agents.retrieve_atomizer}
    WRITE: ${profiles.agents.write_atomizer}
    THINK: ${profiles.agents.think_atomizer}
    CODE_INTERPRET: ${profiles.agents.code_atomizer}
    IMAGE_GENERATION: ${profiles.agents.image_atomizer}
    AGGREGATE: ${profiles.agents.aggregate_atomizer}
    
  planners:
    RETRIEVE: ${profiles.agents.retrieve_planner}
    WRITE: ${profiles.agents.write_planner}
    THINK: ${profiles.agents.think_planner}
    CODE_INTERPRET: ${profiles.agents.code_planner}
    IMAGE_GENERATION: ${profiles.agents.image_planner}
    AGGREGATE: ${profiles.agents.aggregate_planner}
    
  executors:
    RETRIEVE: ${profiles.agents.retrieve_executor}
    WRITE: ${profiles.agents.write_executor}
    THINK: ${profiles.agents.think_executor}
    CODE_INTERPRET: ${profiles.agents.code_executor}
    IMAGE_GENERATION: ${profiles.agents.image_executor}
    
  aggregators:
    RETRIEVE: ${profiles.agents.retrieve_aggregator}
    WRITE: ${profiles.agents.write_aggregator}
    THINK: ${profiles.agents.think_aggregator}
    CODE_INTERPRET: ${profiles.agents.code_aggregator}
    IMAGE_GENERATION: ${profiles.agents.image_aggregator}
    AGGREGATE: ${profiles.agents.research_aggregator}
    default: ${profiles.agents.default_aggregator}
  
  plan_modifiers:
    default: ${profiles.agents.default_plan_modifier}
    error_recovery: ${profiles.agents.error_recovery_plan_modifier}

# Basic settings
settings:
  max_depth: 3
  max_parallel_tasks: 5
  max_tasks_per_level: 10
  task_timeout: 120
  total_timeout: 600
  enable_caching: true
  cache_ttl: 1800